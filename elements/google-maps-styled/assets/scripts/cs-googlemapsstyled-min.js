function CSPPAddStyledGMaps(e){CSPPStyledGMaps.push(e)}function CSPPAddClicker(e,o,a){google.maps.event.addListener(o,"click",function(){infowindow&&infowindow.close(),infowindow=new google.maps.InfoWindow({content:a}),infowindow.open(e,o)})}function CSPPBuildStyledGMaps(){for(var e=0;e<CSPPStyledGMaps.length;e++){var o=CSPPStyledGMaps[e],a={zoom:parseInt(o.zoom),center:{lat:parseFloat(o.lat),lng:parseFloat(o.lng)},zoomControl:o.zoomControl,draggable:o.drag};o.map_style_json&&(a.styles=o.map_style_json),o.zoomLock&&(a.draggable=!1,a.scrollwheel=!1),map=new google.maps.Map(document.getElementById("cspp-gmap-"+o.counter+"-canvas"),a),o.zoomLock&&(google.maps.event.addListener(map,"click",function(e){this.setOptions({draggable:!0,scrollwheel:!0})}),google.maps.event.addListener(map,"mouseout",function(e){this.setOptions({draggable:!1,scrollwheel:!1})}));var n=new google.maps.LatLngBounds;jQuery.each(o.markers,function(e,o){var a={position:new google.maps.LatLng(parseFloat(o.lat),parseFloat(o.lng)),map:map};o.title&&(a.title=o.title),o.image&&(a.icon=o.image);var t=new google.maps.Marker(a);if(n.extend(t.getPosition()),o.markerInfo)var l=CSPPAddClicker(map,t,o.markerInfo)});var t=parseInt(o.zoom);google.maps.event.addListenerOnce(map,"bounds_changed",function(e){this.getZoom()>t&&this.setZoom(t)}),map.fitBounds(n)}}var CSPPStyledGMaps=[];